# Strapi API æµ‹è¯•è„šæœ¬

è¿™ä¸ªè„šæœ¬å¯ä»¥è‡ªåŠ¨æµ‹è¯•ä½ çš„ Strapi åç«¯æ‰€æœ‰ä¸»è¦ API æ¥å£ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. é…ç½®ç™»å½•ä¿¡æ¯
ç¼–è¾‘ `test_all_apis.js` æ–‡ä»¶ï¼Œä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š
```javascript
const USERNAME = 'your_username'; // æ›¿æ¢ä¸ºä½ çš„ç”¨æˆ·å
const PASSWORD = 'your_password'; // æ›¿æ¢ä¸ºä½ çš„å¯†ç 
```

### 3. è¿è¡Œæµ‹è¯•
```bash
npm test
# æˆ–è€…
node test_all_apis.js
```

## ğŸ“‹ æµ‹è¯•çš„æ¥å£åˆ—è¡¨

### ç”¨æˆ·ç›¸å…³
- `GET /api/users/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

### é’±åŒ…ç›¸å…³
- `GET /api/wallet-balances/my` - è·å–æˆ‘çš„é’±åŒ…ä½™é¢
- `GET /api/wallet-balances/deposit-address` - è·å–å……å€¼åœ°å€
- `GET /api/wallet-txes` - è·å–äº¤æ˜“è®°å½•
- `GET /api/deposit-addresses` - è·å–å……å€¼åœ°å€åˆ—è¡¨

### æŠ•èµ„/è®¤è´­ç›¸å…³
- `GET /api/subscription-plans` - è·å–è®¤è´­è®¡åˆ’
- `GET /api/subscription-orders` - è·å–è®¤è´­è®¢å•
- `GET /api/investment-orders` - è·å–æŠ•èµ„è®¢å•

### æŠ½å¥–ç›¸å…³
- `GET /api/lottery-configs` - è·å–æŠ½å¥–é…ç½®
- `GET /api/lottery-prizes` - è·å–å¥–å“åˆ—è¡¨
- `GET /api/lottery-spins` - è·å–æŠ½å¥–è®°å½•

### æ¨èç›¸å…³
- `GET /api/referral-rewards` - è·å–æ¨èå¥–åŠ±

### æç°ç›¸å…³
- `GET /api/withdraw-requests` - è·å–æç°è®°å½•

## ğŸ¯ è¾“å‡ºè¯´æ˜

- âœ… ç»¿è‰²ï¼šæ¥å£è°ƒç”¨æˆåŠŸ
- âŒ çº¢è‰²ï¼šæ¥å£è°ƒç”¨å¤±è´¥
- ğŸ” è“è‰²ï¼šç™»å½•è¿‡ç¨‹
- ğŸ‘¤ğŸ’°ğŸ“ˆğŸ°ğŸ‘¥ğŸ’¸ğŸ” é»„è‰²ï¼šä¸åŒæ¨¡å—çš„æµ‹è¯•åˆ†ç»„

## ğŸ”§ è‡ªå®šä¹‰æµ‹è¯•

å¦‚æœä½ æƒ³æµ‹è¯•ç‰¹å®šçš„æ¥å£ï¼Œå¯ä»¥ä¿®æ”¹ `runAllTests()` å‡½æ•°ï¼Œæ·»åŠ æˆ–åˆ é™¤æµ‹è¯•é¡¹ï¼š

```javascript
// æ·»åŠ æ–°çš„æµ‹è¯•
await testApi('/api/your-new-endpoint', 'GET', token, null, 'ä½ çš„æ¥å£æè¿°');

// æµ‹è¯• POST æ¥å£
await testApi('/api/your-post-endpoint', 'POST', token, { key: 'value' }, 'POST æ¥å£æè¿°');
```

## ğŸ› æ•…éšœæ’é™¤

### 1. ç™»å½•å¤±è´¥
- æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ Strapi æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥ç½‘ç»œè¿æ¥

### 2. æ¥å£è¿”å› 404
- ç¡®è®¤æ¥å£è·¯å¾„æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ Strapi ä¸­æ˜¯å¦å·²åˆ›å»ºå¯¹åº”çš„å†…å®¹ç±»å‹
- ç¡®è®¤è·¯ç”±é…ç½®æ˜¯å¦æ­£ç¡®

### 3. æƒé™é”™è¯¯ (401/403)
- ç¡®è®¤ç”¨æˆ·å·²æ­£ç¡®ç™»å½•
- æ£€æŸ¥æ¥å£çš„æƒé™é…ç½®
- ç¡®è®¤ JWT token æ˜¯å¦æœ‰æ•ˆ

## ğŸ“ æ—¥å¿—è¾“å‡º

è„šæœ¬ä¼šè¾“å‡ºè¯¦ç»†çš„æµ‹è¯•ç»“æœï¼ŒåŒ…æ‹¬ï¼š
- æ¯ä¸ªæ¥å£çš„è°ƒç”¨çŠ¶æ€
- è¿”å›çš„æ•°æ®å†…å®¹
- é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ï¼‰

ä½ å¯ä»¥å°†è¾“å‡ºä¿å­˜åˆ°æ–‡ä»¶ï¼š
```bash
node test_all_apis.js > test_results.log
``` 